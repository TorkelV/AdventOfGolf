const parse=i=>i.split`\n`

const ski=(right,down,hill)=>{
    let [x,y,trees] = [0,0,0]
    while(y < hill.length){
        trees += hill[y][x] == "#"
        x = (x+right)%hill[0].length
        y +=down
    }
    return trees
}

const part1=i=>ski(3,1,parse(i))

const part2=i=>(h=parse(i), ski(1,1,h) * ski(3,1,h) * ski(5,1,h) * ski(7,1,h)* ski(1,2,h))


//Test
const inp = `....#...#####..##.#..##..#....#
..##.#.#.........#.#......##...
#.#.#.##.##...#.......#...#..#.
..##.............#.#.##.....#..
##......#.............#....#...
.....##..#.....##.#.......##..#
.##.....#........##...##.#....#
.##......#.#......#.....#..##.#
##....#..#...#...#...##.#...##.
##........##.#...##......#.#.#.
..#.#........#...##.....#.....#
..#.......####.#....#..#####...
.##..#..#..##.#.....###.#..#...
......###..##.....#.#.#..###.#.
..#.#...#..##.....#....#.#.....
.....#.#...#.###.#..#..........
##.....#...#.#....#..#.#.......
..#...#...#.........##......#..
......#.#...#...#..#...##.#...#
....#.................##.##....
...#......#.............#....##
##..#..#..........#...##.#.#...
....#...##....#..#.#...........
##.#.#.#...#....#........#..#.#
...###..........#...#...#..##.#
..##.......###.#......##.##....
...........#.#....#.....#.#...#
..#......##.#...##.#.#......#.#
..........#.#....#.#..#....#...
##..##...##.......#.#....#.#.##
.##..#.#..#...........#.#...#.#
#......##......#....####.#....#
..###......##...#...#.#.......#
.#.##.##....##..#..##...#......
.#....#..#........#..#.##.#.#..
..#.........#.#.###....###.#...
..#..#.#.#..#..#.##.##...####..
#..#..#......#..#.#....#.#.#.##
..#.........#...#..#.#.#..#...#
#..#......###.....##....##.....
#..#.....#.#.#.##.....##...#.#.
##..#.#...#.........#.#........
#....#.......#.....#..#..#.#...
...###.##.###.###.#####..#...#.
.....#..#.#..##...............#
..#.....###.###.#.....#.#....##
###.#.........#..#.#.#..#.#..#.
.##.........#..#..##....#.#...#
.#...#........#...#.....#....#.
####..........###....#.#.#....#
....##..###....#....#.#...#....
..............##......##..#.###
.#...........###.#.#....#......
###.#..#..#...#.........##.....
..#.....##...#.#.....##...#.##.
.###.#........#..#.#...#.#..##.
.......##....##.........##.#..#
#....#...#...##...#.#..#..#..##
...#...##..#...#...#.#....#.#.#
#.#......#.#...##......#.#...##
.#.###..#.###.#.....#.##.##.#.#
#...#............#...#.##..##..
....#..###.......#.....##....#.
.#####..#.....#.....#...#.....#
..##..#..###.......##.#........
.#...##.##.....#.##...##...#..#
......###...#....#....#........
....#...#.#....#...#.#.#......#
....#..##...##.#..#....###.....
...#...#..#.#...#....#.#..#####
####....#.....#.........#.#....
...###.#.#..#.#..##............
.##..#####..#...#..#..#.......#
.###......#.#.#..#....#.....#..
#....##.##..#.#...............#
...#.#..#........#......#....#.
#.....#....###....#..#.#.#.....
.#..#....#...#.#.....##....#...
..#.##.#.##.#..#.##.#.....#.#..
.......#.......###..###..#...#.
.#.......#..#........#.#.......
.#.#...#.....#.##..##.....#....
#.......##....#......#.....##..
.#.....#...##...#..##.....#....
....#..#.#.......#.#.#.........
..#....#....##.##..#..##.##.#..
.#...#....##...#........#....#.
#.#......#...#....#...........#
.#....#..#..###.#.....#..#.....
..#..................#.....#...
..#...###..#..####.#..#.#.#.#..
...#........##...##..##..#....#
...#.....#........##..#.....#.#
#....#.....##.##......#...##...
...#####....#..##..##...#.#....
###.........#.#..#..#..##.#...#
##...#..##...#.##.#........#...
.#....#.#...#..#...#..#.#......
.#......##.#...#...#..#....#...
#..#.#.#......##.##.####..#....
.#...#.#.##...##.#...#...#.....
####.#.........#...##..##....##
.....###........###.##...#.#...
.##.....#.....#....##.....##...
.#.#...#####....##...##.....#..
....###..........#......##..#.#
..#.....#....#..#...#.....##..#
...##.##.#.######....#.#....##.
...#.#.#...#..#....##.........#
.#.#...##...#....#.#....##.....
...#..#.....#.....#.##.....#...
.#.#.#.....#.##.#....#.#....##.
#...#......###...#..###...#....
...##.#.#..#........##.......#.
.####.####......#........#.....
....#..#####....#......####....
#...##.#..#..#####.#...#......#
#.#....#..#.........###........
.##.........#....#......#.#....
...###.........####.#........##
..#..#........#.#..##......#..#
.##..#....#...##.####.#...#....
......#.......#..#..#.#.##.#...
.###....#.#...#.#.......##..#.#
#...#....#............#####....
...#.##......#####..#........#.
..#...##.....#...#..#.#........
...#.#...#...##...#..#....#....
..#..##.....#....#.#.###.......
.......##..#...#.............##
.....#.....#..##.##.....#......
.....##...#......#..##....#.###
.#...#.#.#.#.##.....##..###..#.
....##..........#.....###......
....#...#.#.#..#.......#....#..
..###...#...........##..###....
...#.##.......#....#....#.#....
##...#..##..#.##..........##..#
.##.....#..#......##..####.#.##
....##..#.#.###......#..#...#..
####..#.#....#...#....###.#.#..
###......#...##.##..#.##..#..#.
..#.#..#.#.#.....#...#..#.####.
.###.#...##...##....##......#.#
..#............#.##..#....#..#.
###.......#......###..#........
....##......###.....#.#..###...
..#...##...#......#..#.........
#..####.#....#.....###....#.#..
.#.#.#.......##....###.........
.......#.##.#####....#.#...####
.#...#....#....#.###..#.....#..
.###.#.#.###.###.#..####.##.#..
....#.........#.#.......##.....
#..#..#.#...........#.#.##..#.#
.#.....#..#...#.....#.##......#
..###.#............#.....####..
#.....##..##...#....####....#..
...#.....#..................#..
....#.###.#..#..#..##..#..##...
...##.#........#......#...##...
#................##....#...#...
..##......##.#.##..#....#.....#
.#..#.....#..........##.#.#....
.....#...####....#..#......#...
..#......###.#.#.#.#.......#..#
.##......#.......#....###.#....
#..#.#.#..#...#.#.##..##..#....
....#...##..#.#......#.##...#..
...###...#.##..#...#....#......
##......#.#...#.#.#.........#..
..#..........#...###.#.##....#.
...##.....#.....#...###..#.....
..####.#.....#.#.....#..#.#....
.#.....##...##.##.#.....#.####.
.......#.....#...##..........#.
.#...#.#....#####....###.#..#.#
.##.##....##...##.#.....#......
#......#.##..#..##.#.#.......#.
.#..#....###..#........##...#..
..#......##.......###..##...#..
.#..........#.#.......##.....#.
....##.....##.#.#.##........##.
..#.#..###..#..##...#.##...#...
.......#.....#..#...#...#.....#
##.#...#.#.#.##........#......#
..###.....##..#....#.......##..
#####..####...#.#..##.#...#..#.
#...####....#........#....#....
.#.#.#..#...##....#.......#.#..
...#....##..##..#..#..#####.###
...#......#.#..#......#...####.
.##.....##.##.#.####.#..##...#.
....#..#..##..##....#....#...##
##.###........#...##....#.....#
..#.#.#.......#....#..#....#...
......##.....##....#...#.....#.
#.#..#.#.......#....#.#.#......
.....###..#...#.....#..##..#...
......###.....#.#.#...#...##..#
.#..#.#....##...#...#........#.
#..###.#...####.#...#..........
.#.##.#..#..##..#..###..##...#.
.......#.#..........#.........#
#......###..##..#....###.......
..#............#.#........#...#
..##.#.............#......#..##
.#....#..#.#..#....###..#...#..
....##....#..##...###....#....#
.#....###.............#........
#..#...#..#....#.##.#.....##...
...........#.....#....#....#...
.##.##.#...#....##......##..##.
......#.#.##.#..##........#...#
....##...##...#...#...#.#......
.#...#....#...#......#.#...#..#
........##.....#.#..#...##..##.
##...#.....#.....####...#..#...
.#.#..##.##......#...#.#...#...
##...##.#......#....#.######.#.
##.....####.###......#.##.#....
.#.##....##........#...#..####.
.......#..#....##...#.#...#..#.
...##..........#..#........#..#
.##.....#...#...#.##.###.......
.##....#...#.#..#.....#...#....
..#...#.....#.####.#.........#.
#...#.##...#.#..#.#..#.###.#..#
.##..#.#.##.........####....###
.#..##........#..#.......#.....
......#.#####.#.........#.#...#
......#....#.#####...........#.
..##....##..#.#..#....#......##
#.#......#.##.#.##....#....#.#.
..#..##.#...#.......##.........
.....##.#...#..........#.......
...#........#..#...#.....##.###
....##.........#...#.#.....#...
.......#.#....#...#.......#...#
.#..#...##....#..#...........#.
.#....##.##.#..#..####.#.#.....
.##........#.....#..#......##..
.#..##......#......#..##..#....
###.....##.......#..##.#.......
.....##......#.#...##...##.....
.##....##..#..#####...#...#.##.
##...##.#....##.#.#.#....##....
.#.....#...#......#......##....
##.#............#...#....#.....
#..#.....#.....##.##.##..#..##.
......#..............#..#...#.#
....#.#....##......#..#...#....
.#...#..#...#......#..##....#.#
.....#......#..##...#.#....#...
#...............#.##..#......#.
.....#..##.#..#.#...###.....#..
...#..#..#...#....#..#..##.#...
.#...#...#..#......##...#......
....###............#.#.#....#..
#.#...#..#..#.#....#........#..
....#.#.#..#..#....#..#...##.#.
.#....#.#...#....#......#.#...#
##..#.#.#..#.....#...###....#.#
.##.....#.#...#..........#..#.#
#....#......#....#.#.#...#.....
#.#.....#.###.......#..#..#.#..
#.....##..#.###...#...##...#.##
.#.##....#.#.....##......###...
.#.......##................#...
.........#........####......#..
...##.###..#.....#.#.....##.#..
..#....#.#.#.##..........#.....
#..##.....#.............##.....
.##...#..#.......#.......#..#..
...#.................#......##.
....#....#.....#..###.#....###.
..#.#..#...#..#.....###....#.#.
.....###...#....#....#.#.##..##
...#...#.........####........#.
.......#..##.........#.........
.#......##.....#.#####...##....
....#.###...#.#....##..#......#
.##..#....#.#....#..#.###.....#
..#...#.#...#.##.....#.#....##.
#.#.#.#.....##...#.#..##..#....
.#............#.#.#..#...#...#.
...##.#..#..####.#.###..##.....
.##.....#.......#..##.#...##.#.
#.#...#..#.##...##...####..#..#
...##.......#.#.#.#.#.#...#..##
...#.#.##..##..............###.
.....#...#........#...#......#.
..#..#..##....#..##.#.....#....
#.....##........#.........##.#.
###..#....#.##..##.............
.#..#...#.#......#..#..##.....#
...#.#.#............##........#
..#.#....#..#....##....#...##.#
...##...#...#..........##.#####
....#..#.#.......##....#.#.###.
##..#..#..#...###.#.....#......
....###.#.#.#.##..##.#...#.....
.....####..#.#..#.#......#.#.#.
#.....#...#..#.#.........#..#..
.##....#.#.####......##..#..##.
......#.##.#.#..#..#....#.#....
.#..#...#...#...#..#.....#.....
..##.#..............#......#...
.....###.##.......#.....#..#...
..#.#..#..#.......#...##.##..#.
##.###......#......#.#..#..##..
..##.....#..#..#......#..#.....
...##.......#.#..#.........#.#.
......##.##.#.......#..#.#.....
#......#........##..#.......#.#
###....#...#...#.#...#..#..#...
#..###....#....####..#...#.....
....##..#.##.#....#..##...#.#..
#.##..#....##..#...#..#.#.#..#.
#.........#.....#...#.......#..
...#.....#.#.....#........##...
..#.##..#......#...#.....##.#..
...###....#.....#...#..#.##..#.
`
part2(inp)