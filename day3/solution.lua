f = "....#...#####..##.#..##..#....#\n..##.#.#.........#.#......##...\n#.#.#.##.##...#.......#...#..#.\n..##.............#.#.##.....#..\n##......#.............#....#...\n.....##..#.....##.#.......##..#\n.##.....#........##...##.#....#\n.##......#.#......#.....#..##.#\n##....#..#...#...#...##.#...##.\n##........##.#...##......#.#.#.\n..#.#........#...##.....#.....#\n..#.......####.#....#..#####...\n.##..#..#..##.#.....###.#..#...\n......###..##.....#.#.#..###.#.\n..#.#...#..##.....#....#.#.....\n.....#.#...#.###.#..#..........\n##.....#...#.#....#..#.#.......\n..#...#...#.........##......#..\n......#.#...#...#..#...##.#...#\n....#.................##.##....\n...#......#.............#....##\n##..#..#..........#...##.#.#...\n....#...##....#..#.#...........\n##.#.#.#...#....#........#..#.#\n...###..........#...#...#..##.#\n..##.......###.#......##.##....\n...........#.#....#.....#.#...#\n..#......##.#...##.#.#......#.#\n..........#.#....#.#..#....#...\n##..##...##.......#.#....#.#.##\n.##..#.#..#...........#.#...#.#\n#......##......#....####.#....#\n..###......##...#...#.#.......#\n.#.##.##....##..#..##...#......\n.#....#..#........#..#.##.#.#..\n..#.........#.#.###....###.#...\n..#..#.#.#..#..#.##.##...####..\n#..#..#......#..#.#....#.#.#.##\n..#.........#...#..#.#.#..#...#\n#..#......###.....##....##.....\n#..#.....#.#.#.##.....##...#.#.\n##..#.#...#.........#.#........\n#....#.......#.....#..#..#.#...\n...###.##.###.###.#####..#...#.\n.....#..#.#..##...............#\n..#.....###.###.#.....#.#....##\n###.#.........#..#.#.#..#.#..#.\n.##.........#..#..##....#.#...#\n.#...#........#...#.....#....#.\n####..........###....#.#.#....#\n....##..###....#....#.#...#....\n..............##......##..#.###\n.#...........###.#.#....#......\n###.#..#..#...#.........##.....\n..#.....##...#.#.....##...#.##.\n.###.#........#..#.#...#.#..##.\n.......##....##.........##.#..#\n#....#...#...##...#.#..#..#..##\n...#...##..#...#...#.#....#.#.#\n#.#......#.#...##......#.#...##\n.#.###..#.###.#.....#.##.##.#.#\n#...#............#...#.##..##..\n....#..###.......#.....##....#.\n.#####..#.....#.....#...#.....#\n..##..#..###.......##.#........\n.#...##.##.....#.##...##...#..#\n......###...#....#....#........\n....#...#.#....#...#.#.#......#\n....#..##...##.#..#....###.....\n...#...#..#.#...#....#.#..#####\n####....#.....#.........#.#....\n...###.#.#..#.#..##............\n.##..#####..#...#..#..#.......#\n.###......#.#.#..#....#.....#..\n#....##.##..#.#...............#\n...#.#..#........#......#....#.\n#.....#....###....#..#.#.#.....\n.#..#....#...#.#.....##....#...\n..#.##.#.##.#..#.##.#.....#.#..\n.......#.......###..###..#...#.\n.#.......#..#........#.#.......\n.#.#...#.....#.##..##.....#....\n#.......##....#......#.....##..\n.#.....#...##...#..##.....#....\n....#..#.#.......#.#.#.........\n..#....#....##.##..#..##.##.#..\n.#...#....##...#........#....#.\n#.#......#...#....#...........#\n.#....#..#..###.#.....#..#.....\n..#..................#.....#...\n..#...###..#..####.#..#.#.#.#..\n...#........##...##..##..#....#\n...#.....#........##..#.....#.#\n#....#.....##.##......#...##...\n...#####....#..##..##...#.#....\n###.........#.#..#..#..##.#...#\n##...#..##...#.##.#........#...\n.#....#.#...#..#...#..#.#......\n.#......##.#...#...#..#....#...\n#..#.#.#......##.##.####..#....\n.#...#.#.##...##.#...#...#.....\n####.#.........#...##..##....##\n.....###........###.##...#.#...\n.##.....#.....#....##.....##...\n.#.#...#####....##...##.....#..\n....###..........#......##..#.#\n..#.....#....#..#...#.....##..#\n...##.##.#.######....#.#....##.\n...#.#.#...#..#....##.........#\n.#.#...##...#....#.#....##.....\n...#..#.....#.....#.##.....#...\n.#.#.#.....#.##.#....#.#....##.\n#...#......###...#..###...#....\n...##.#.#..#........##.......#.\n.####.####......#........#.....\n....#..#####....#......####....\n#...##.#..#..#####.#...#......#\n#.#....#..#.........###........\n.##.........#....#......#.#....\n...###.........####.#........##\n..#..#........#.#..##......#..#\n.##..#....#...##.####.#...#....\n......#.......#..#..#.#.##.#...\n.###....#.#...#.#.......##..#.#\n#...#....#............#####....\n...#.##......#####..#........#.\n..#...##.....#...#..#.#........\n...#.#...#...##...#..#....#....\n..#..##.....#....#.#.###.......\n.......##..#...#.............##\n.....#.....#..##.##.....#......\n.....##...#......#..##....#.###\n.#...#.#.#.#.##.....##..###..#.\n....##..........#.....###......\n....#...#.#.#..#.......#....#..\n..###...#...........##..###....\n...#.##.......#....#....#.#....\n##...#..##..#.##..........##..#\n.##.....#..#......##..####.#.##\n....##..#.#.###......#..#...#..\n####..#.#....#...#....###.#.#..\n###......#...##.##..#.##..#..#.\n..#.#..#.#.#.....#...#..#.####.\n.###.#...##...##....##......#.#\n..#............#.##..#....#..#.\n###.......#......###..#........\n....##......###.....#.#..###...\n..#...##...#......#..#.........\n#..####.#....#.....###....#.#..\n.#.#.#.......##....###.........\n.......#.##.#####....#.#...####\n.#...#....#....#.###..#.....#..\n.###.#.#.###.###.#..####.##.#..\n....#.........#.#.......##.....\n#..#..#.#...........#.#.##..#.#\n.#.....#..#...#.....#.##......#\n..###.#............#.....####..\n#.....##..##...#....####....#..\n...#.....#..................#..\n....#.###.#..#..#..##..#..##...\n...##.#........#......#...##...\n#................##....#...#...\n..##......##.#.##..#....#.....#\n.#..#.....#..........##.#.#....\n.....#...####....#..#......#...\n..#......###.#.#.#.#.......#..#\n.##......#.......#....###.#....\n#..#.#.#..#...#.#.##..##..#....\n....#...##..#.#......#.##...#..\n...###...#.##..#...#....#......\n##......#.#...#.#.#.........#..\n..#..........#...###.#.##....#.\n...##.....#.....#...###..#.....\n..####.#.....#.#.....#..#.#....\n.#.....##...##.##.#.....#.####.\n.......#.....#...##..........#.\n.#...#.#....#####....###.#..#.#\n.##.##....##...##.#.....#......\n#......#.##..#..##.#.#.......#.\n.#..#....###..#........##...#..\n..#......##.......###..##...#..\n.#..........#.#.......##.....#.\n....##.....##.#.#.##........##.\n..#.#..###..#..##...#.##...#...\n.......#.....#..#...#...#.....#\n##.#...#.#.#.##........#......#\n..###.....##..#....#.......##..\n#####..####...#.#..##.#...#..#.\n#...####....#........#....#....\n.#.#.#..#...##....#.......#.#..\n...#....##..##..#..#..#####.###\n...#......#.#..#......#...####.\n.##.....##.##.#.####.#..##...#.\n....#..#..##..##....#....#...##\n##.###........#...##....#.....#\n..#.#.#.......#....#..#....#...\n......##.....##....#...#.....#.\n#.#..#.#.......#....#.#.#......\n.....###..#...#.....#..##..#...\n......###.....#.#.#...#...##..#\n.#..#.#....##...#...#........#.\n#..###.#...####.#...#..........\n.#.##.#..#..##..#..###..##...#.\n.......#.#..........#.........#\n#......###..##..#....###.......\n..#............#.#........#...#\n..##.#.............#......#..##\n.#....#..#.#..#....###..#...#..\n....##....#..##...###....#....#\n.#....###.............#........\n#..#...#..#....#.##.#.....##...\n...........#.....#....#....#...\n.##.##.#...#....##......##..##.\n......#.#.##.#..##........#...#\n....##...##...#...#...#.#......\n.#...#....#...#......#.#...#..#\n........##.....#.#..#...##..##.\n##...#.....#.....####...#..#...\n.#.#..##.##......#...#.#...#...\n##...##.#......#....#.######.#.\n##.....####.###......#.##.#....\n.#.##....##........#...#..####.\n.......#..#....##...#.#...#..#.\n...##..........#..#........#..#\n.##.....#...#...#.##.###.......\n.##....#...#.#..#.....#...#....\n..#...#.....#.####.#.........#.\n#...#.##...#.#..#.#..#.###.#..#\n.##..#.#.##.........####....###\n.#..##........#..#.......#.....\n......#.#####.#.........#.#...#\n......#....#.#####...........#.\n..##....##..#.#..#....#......##\n#.#......#.##.#.##....#....#.#.\n..#..##.#...#.......##.........\n.....##.#...#..........#.......\n...#........#..#...#.....##.###\n....##.........#...#.#.....#...\n.......#.#....#...#.......#...#\n.#..#...##....#..#...........#.\n.#....##.##.#..#..####.#.#.....\n.##........#.....#..#......##..\n.#..##......#......#..##..#....\n###.....##.......#..##.#.......\n.....##......#.#...##...##.....\n.##....##..#..#####...#...#.##.\n##...##.#....##.#.#.#....##....\n.#.....#...#......#......##....\n##.#............#...#....#.....\n#..#.....#.....##.##.##..#..##.\n......#..............#..#...#.#\n....#.#....##......#..#...#....\n.#...#..#...#......#..##....#.#\n.....#......#..##...#.#....#...\n#...............#.##..#......#.\n.....#..##.#..#.#...###.....#..\n...#..#..#...#....#..#..##.#...\n.#...#...#..#......##...#......\n....###............#.#.#....#..\n#.#...#..#..#.#....#........#..\n....#.#.#..#..#....#..#...##.#.\n.#....#.#...#....#......#.#...#\n##..#.#.#..#.....#...###....#.#\n.##.....#.#...#..........#..#.#\n#....#......#....#.#.#...#.....\n#.#.....#.###.......#..#..#.#..\n#.....##..#.###...#...##...#.##\n.#.##....#.#.....##......###...\n.#.......##................#...\n.........#........####......#..\n...##.###..#.....#.#.....##.#..\n..#....#.#.#.##..........#.....\n#..##.....#.............##.....\n.##...#..#.......#.......#..#..\n...#.................#......##.\n....#....#.....#..###.#....###.\n..#.#..#...#..#.....###....#.#.\n.....###...#....#....#.#.##..##\n...#...#.........####........#.\n.......#..##.........#.........\n.#......##.....#.#####...##....\n....#.###...#.#....##..#......#\n.##..#....#.#....#..#.###.....#\n..#...#.#...#.##.....#.#....##.\n#.#.#.#.....##...#.#..##..#....\n.#............#.#.#..#...#...#.\n...##.#..#..####.#.###..##.....\n.##.....#.......#..##.#...##.#.\n#.#...#..#.##...##...####..#..#\n...##.......#.#.#.#.#.#...#..##\n...#.#.##..##..............###.\n.....#...#........#...#......#.\n..#..#..##....#..##.#.....#....\n#.....##........#.........##.#.\n###..#....#.##..##.............\n.#..#...#.#......#..#..##.....#\n...#.#.#............##........#\n..#.#....#..#....##....#...##.#\n...##...#...#..........##.#####\n....#..#.#.......##....#.#.###.\n##..#..#..#...###.#.....#......\n....###.#.#.#.##..##.#...#.....\n.....####..#.#..#.#......#.#.#.\n#.....#...#..#.#.........#..#..\n.##....#.#.####......##..#..##.\n......#.##.#.#..#..#....#.#....\n.#..#...#...#...#..#.....#.....\n..##.#..............#......#...\n.....###.##.......#.....#..#...\n..#.#..#..#.......#...##.##..#.\n##.###......#......#.#..#..##..\n..##.....#..#..#......#..#.....\n...##.......#.#..#.........#.#.\n......##.##.#.......#..#.#.....\n#......#........##..#.......#.#\n###....#...#...#.#...#..#..#...\n#..###....#....####..#...#.....\n....##..#.##.#....#..##...#.#..\n#.##..#....##..#...#..#.#.#..#.\n#.........#.....#...#.......#..\n...#.....#.#.....#........##...\n..#.##..#......#...#.....##.#..\n...###....#.....#...#..#.##..#."

function ski(right,down,h)
  local hill = {}
  local j = 0
  for line in h:gmatch("[^\n]+") do
      j = j+1
      table.insert(hill, {})
      for c in line:gmatch"." do
        table.insert(hill[j], c)
      end
  end
  local x = 0
  local y = 0
  local trees = 0
  while(y < #hill) do
    if(hill[y+1][x+1] == "#") then
      trees = trees +1
    end
    x = (x+right) % #hill[1]
    y = y + down
  end
  return trees
end

--part1
print(ski(3,1,f))

--part2
print(ski(1,1,f)*ski(3,1,f)*ski(5,1,f)*ski(7,1,f)*ski(1,2,f))
